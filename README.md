# Sber_homeworks

Задание к уроку 2 (Основы git): Отличия Trunk-based development от feature подхода


1) Feature branch workflow

Здесь основной идеей является создание feature-веток, т.е. для разработки одного нового функционала создается отдельная ветка, которая вливается в основную когда работа над функционалом завершена. 
- работа над новой фичей ведется в отдельной ветке, а не в основной;
- код нового функционала не попадет в основную ветку до момента завершения работы, соответственно, он недоступен в основной ветке до момента готовности feature ветки и ее присоединения;
- feature ветки, как правило, являются долгосрочными и объемными;
- в силу объема при слиянии с основной веткой, как правило, возникает большое количество конфликтов и может потребоваться длительное время на их решение;
- по той же причине здесь долгий процесс ревью.


2) Trunk-based development

Основная идея - команда совместно работает над кодом в одной главной ветке. Второстепенные feature-ветки также могут создаваться, но они имеют короткий срок жизни (как правило, не более 2 дней) и в одной ветке работает только один человек.
Отличия Trunk based development (далее TBD):
- основная работа ведется в одной главной ветке;
- все вносимые изменения являются минимальными;
- срок жизни второстепенных веток очень короткий (до 2 дней);
- за счет компактности изменений возникает меньше сложностей связанных со слиянием веток;
- минимальность изменений обеспечивает возможность быстрого ревью (10 минут/час вместо нескольких часов/дней);
- используются Feature Flags - флаги, которыми можно включать или выключать фичи;
- Feature Flags дают возможность мержить код, который еще не готов;
- также за счет Feature Flags ветка Master всегда готова к деплою, даже если в ней есть недописанные фичи;
- также Feature Flags позволяет проще реализовывать A/B тесты;
- TBD в большей степени реализует концепцию Continuous Code Review - за счет того что все изменения добавляются в основную ветку постоянно и все участники процесса их видят;
- в идеальном варианте вместо Feature branch используются Branch by abstraction - добавляются не фичи, а оборачиваем все в минимальные абстракции, т.е. дробим сложные процессы на мелкие шаги и получаем возможность проще рефакторить код;
- TBD в большей степени отвечает принципам Continuous Integration (CI) и Continuous Delivery (CD) и многие считают TBD максимально продуктивным подходом.
